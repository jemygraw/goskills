<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integration Examples - GoSkills</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.cn">
    <link href="https://fonts.googleapis.cn/css2?family=Inter:wght@400;500;600;700;800&family=Fira+Code&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body>
    <header>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fa-solid fa-cube"></i>
                <span>GoSkills</span>
            </a>
            <div class="menu-toggle">
                <i class="fa-solid fa-bars"></i>
            </div>
            <nav class="nav-links">
                <a href="index.html">Home</a>
                <a href="documentation.html">Documentation</a>
                <a href="usage.html" class="active">Integration</a>
                <a href="agent.html">DeepResearch</a>
                <a href="examples.html">Examples</a>
                <a href="https://github.com/smallnest/goskills" target="_blank"><i class="fa-brands fa-github"></i>
                    GitHub</a>
            </nav>
        </div>
    </header>

    <div class="docs-container">
        <aside class="docs-sidebar">
            <ul>
                <li><a href="#setup" class="active">Setup</a></li>
                <li><a href="#shell">Shell (Bash)</a></li>
                <li><a href="#python">Python</a></li>
                <li><a href="#javascript">JavaScript (Node.js)</a></li>
                <li><a href="#go">Go</a></li>
                <li><a href="#java">Java</a></li>
                <li><a href="#rust">Rust</a></li>
                <li><a href="#cpp">C++</a></li>
                <li><a href="#c">C</a></li>
            </ul>
        </aside>

        <main class="docs-content">
            <h1>goskills Integration Examples</h1>
            <p>This document provides examples of how to execute the <code>goskills</code> command-line tool from
                various programming languages.</p>

            <h2 id="setup">Setup</h2>
            <p>Before running any <code>goskills</code> command, you must set your OpenAI API key:</p>
            <pre><code class="language-bash">export OPENAI_API_KEY="YOUR_OPENAI_API_KEY"</code></pre>

            <p>The base command for these examples is:</p>
            <pre><code class="language-bash">goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 --skills-dir=~/.claude/skills "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"</code></pre>

            <h2 id="shell">Shell (Bash)</h2>
            <p>This is the most direct way to run the command.</p>
            <pre><code class="language-bash">#!/bin/bash

# Define the prompt
PROMPT="使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"

# Execute the command and capture the output
RESULT=$(goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 --skills-dir=~/.claude/skills "$PROMPT")

# Or execute and print directly
# goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 "$PROMPT" --skills-dir=~/.claude/skills


echo "Output:"
echo "$RESULT"</code></pre>

            <h2 id="python">Python</h2>
            <p>Using the <code>subprocess</code> module is the standard way to run external commands in Python.</p>
            <pre><code class="language-python">import subprocess
import shlex

# Define the command as a list of arguments for safety
command = [
    "goskills", "run",
    "--auto-approve",
    "--model", "deepseek-v3",
    "--api-base", "https://qianfan.baidubce.com/v2",
    "--skills-dir=~/.claude/skills",
    "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"
]

# Or, build the command from a string using shlex for proper quoting
# cmd_str = 'goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584" --skills-dir=~/.claude/skills'
# command = shlex.split(cmd_str)


try:
    # Execute the command, capture stdout and stderr
    result = subprocess.run(
        command,
        check=True,        # Raise an exception if the command returns a non-zero exit code
        capture_output=True, # Capture stdout and stderr
        text=True          # Decode stdout/stderr as text
    )
    
    print("Command executed successfully:")
    print("Output:\n", result.stdout)

except FileNotFoundError:
    print("Error: 'goskills' command not found. Make sure it's in your PATH.")
except subprocess.CalledProcessError as e:
    print(f"Command failed with exit code {e.returncode}:")
    print("Stderr:\n", e.stderr)</code></pre>

            <h2 id="javascript">JavaScript (Node.js)</h2>
            <p>In Node.js, you can use the <code>child_process</code> module.</p>
            <pre><code class="language-javascript">const { exec } = require('child_process');

// Use single quotes for the outer string to easily handle inner double quotes
const command = 'goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 --skills-dir=~/.claude/skills "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"';

exec(command, (error, stdout, stderr) => {
    if (error) {
        console.error(`Execution error: ${error.message}`);
        if (stderr) {
            console.error(`Stderr: ${stderr}`);
        }
        return;
    }

    console.log(`Command output:\n${stdout}`);
});</code></pre>

            <h2 id="go">Go</h2>
            <p>In Go, the <code>os/exec</code> package is used to run external commands.</p>
            <pre><code class="language-go">package main

import (
	"fmt"
	"os/exec"
)

func main() {
	prompt := "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"
	
	cmd := exec.Command("goskills", "run",
		"--auto-approve",
		"--model", "deepseek-v3",
		"--api-base", "https://qianfan.baidubce.com/v2",
		"--skills-dir=~/.claude/skills",
		prompt)

	// CombinedOutput runs the command and returns its combined standard output and standard error.
	output, err := cmd.CombinedOutput()
	if err != nil {
		fmt.Printf("Error executing command: %v\n", err)
		fmt.Printf("Output:\n%s\n", string(output))
		return
	}

	fmt.Printf("Command output:\n%s\n", string(output))
}</code></pre>

            <h2 id="java">Java</h2>
            <p>Using <code>ProcessBuilder</code> is the modern and recommended way to execute commands in Java.</p>
            <pre><code class="language-java">import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.IOException;

public class GoSkillsRunner {
    public static void main(String[] args) {
        try {
            ProcessBuilder pb = new ProcessBuilder(
                "goskills", "run",
                "--auto-approve",
                "--model", "deepseek-v3",
                "--api-base", "https://qianfan.baidubce.com/v2",
                "--skills-dir=~/.claude/skills",
                "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"
            );

            // Redirect error stream to the same as the standard output stream
            pb.redirectErrorStream(true);

            Process process = pb.start();

            // Read the output from the command
            StringBuilder output = new StringBuilder();
            try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {
                String line;
                while ((line = reader.readLine()) != null) {
                    output.append(line).append("\n");
                }
            }

            int exitCode = process.waitFor();
            System.out.println("Exit Code: " + exitCode);
            System.out.println("Output:\n" + output.toString());

        } catch (IOException | InterruptedException e) {
            e.printStackTrace();
        }
    }
}</code></pre>

            <h2 id="rust">Rust</h2>
            <p>In Rust, the <code>std::process::Command</code> struct is used to execute external commands.</p>
            <pre><code class="language-rust">use std::process::Command;

fn main() {
    let prompt = "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584";

    let output = Command::new("goskills")
        .arg("run")
        .arg("--auto-approve")
        .arg("--model")
        .arg("deepseek-v3")
        .arg("--api-base")
        .arg("https://qianfan.baidubce.com/v2")
        .arg("--skills-dir=~/.claude/skills")
        .arg(prompt)
        .output()
        .expect("Failed to execute command");

    if output.status.success() {
        println!("Command executed successfully:");
        println!("Output:\n{}", String::from_utf8_lossy(&output.stdout));
    } else {
        eprintln!("Command failed with exit code: {:?}", output.status.code());
        eprintln!("Stderr:\n{}", String::from_utf8_lossy(&output.stderr));
    }
}</code></pre>

            <h2 id="cpp">C++</h2>
            <p>In C++, <code>std::system</code> provides a simple way to execute shell commands, though
                <code>popen</code> or <code>fork</code>/<code>exec</code> offer more control for capturing output. For
                this example, <code>std::system</code> is used for simplicity.
            </p>
            <pre><code class="language-cpp">#include &lt;iostream&gt;
#include <string>
#include <cstdlib> // For std::system

int main() {
    std::string prompt = "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584";
    std::string command = "goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 --skills-dir=~/.claude/skills \"" + prompt + "\"";

    // system() executes the command and returns its exit status
    // For capturing output, popen or platform-specific APIs would be needed.
    int result = std::system(command.c_str());

    if (result == 0) {
        std::cout << "Command executed successfully." << std::endl;
    } else {
        std::cerr << "Command failed with exit code: " << result << std::endl;
    }

    return 0;
}</code></pre>

            <h2 id="c">C</h2>
            <p>In C, the <code>system()</code> function is part of <code>stdlib.h</code> and allows executing shell
                commands. Like C++, it's simple but doesn't easily capture output.</p>
            <pre><code class="language-c">#include &lt;stdio.h&gt;
#include <stdlib.h> // For system()
#include <string.h> // For strlen, strcat

int main() {
    char prompt[] = "使用markitdown 工具解析网页 https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584";
    // Allocate enough space for the command string
    // "goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 "" + prompt + """ --skills-dir=~/.claude/skills"
    char command[512]; // Adjust size as necessary

    snprintf(command, sizeof(command), "goskills run --auto-approve --model deepseek-v3 --api-base https://qianfan.baidubce.com/v2 --skills-dir=~/.claude/skills \"%s\"", prompt);

    // system() executes the command and returns its exit status
    // For capturing output, popen or platform-specific APIs would be needed.
    int result = system(command);

    if (result == 0) {
        printf("Command executed successfully.\n");
    } else {
        fprintf(stderr, "Command failed with exit code: %d\n", result);
    }

    return 0;
}</code></pre>

        </main>
    </div>

    <footer>
        <p>&copy; 2025 GoSkills. Released under the MIT License.</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-go.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-rust.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-cpp.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
</body>

</html>